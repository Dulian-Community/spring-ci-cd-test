name: dulian-ci
on:
    push:
        branches:
            - develop
jobs:
    test:
        runs-on: ubuntu-latest
        steps:
                -   name: Checkout Code
                    uses: actions/checkout@v4
                    with:
                        token: ${{ secrets.TOKEN }}

                -   name: Set up JDK 17
                    uses: actions/setup-java@v4
                    with:
                        java-version: '17'
                        distribution: 'temurin'
                        cache: gradle

                -   name: Verify JDK installation
                    run: java -version

                -   name: Set up Gradle
                    uses: gradle/actions/setup-gradle@v3
                    with:
                        gradle-version: '8.11.1'

                -   name: Test with Gradle
                    run: ./gradlew test

                -  name: Publish Test Results
                   uses: EnricoMi/publish-unit-test-result-action@v1
                   if: ${{ always() }}  # 'always' : 테스트 실패해도 Result 출력
                   with:
                       files: build/test-results/**/*.xml
